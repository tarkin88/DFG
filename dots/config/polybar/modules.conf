;=====================================================
;     Modules
;=====================================================

;;;;;;;;;;;;;;;
;;   Jgmenu  ;;
;;;;;;;;;;;;;;;
[module/jgmenu]
type          = custom/script
label         = %output%
label-padding = 2
interval      = 10
exec          = echo ""
click-left    = jgmenu_run
click-right   = exo-open $HOME/.config/jgmenu/jgmenurc


;;;;;;;;;;;;;;;;;;;
;; i3 Workspaces ;;
;;;;;;;;;;;;;;;;;;;
[module/i3]
type = internal/i3
pin-workspaces = true
strip-wsnumbers = true
index-sort = true
enable-click = true
enable-scroll = false
wrapping-scroll = false
reverse-scroll = false
fuzzy-match = true

label-focused =%name%
label-focused-foreground = ${colors.accent}
label-focused-padding = 1

label-unfocused =%name%
label-unfocused-foreground = ${colors.foreground}
label-unfocused-padding = 1

label-visible =%name%
label-visible-padding = 1

label-urgent =%name%
label-urgent-foreground = ${colors.urgent}
label-urgent-padding = 1



;;;;;;;;;;;;;
;; Network ;;
;;;;;;;;;;;;;
[module/network]
type = custom/script
exec    = ~/.config/polybar/modules/check-network.sh
click-left    = networkmanager_dmenu &
click-right   = networkmanager_dmenu &
label-padding = 1
tail          = true


;;;;;;;;;;;;;;;;;;;
;; Window Switch ;;
;;;;;;;;;;;;;;;;;;;
[module/window_switch]
type = custom/script
interval    = 5
label       = %output%
click-left  = skippy-xd
click-right = skippy-xd
exec        = echo "  "
format      = <label>


;;;;;;;;;
;; CPU ;;
;;;;;;;;;
[module/coreuse]
type = internal/cpu
interval        = 3
format-padding  = 1
;format          = <label>
format          = <label>
label           = %{A1:urxvt -e htop & disown:} %percentage%% %{A}
ramp-coreload-0 = ▂
ramp-coreload-1 = ▃
ramp-coreload-2 = ▄
ramp-coreload-3 = ▅
ramp-coreload-4 = ▆
ramp-coreload-5 = ▇
ramp-coreload-0-foreground = ${colors.blue}
ramp-coreload-1-foreground = ${colors.blue
ramp-coreload-2-foreground = ${colors.yellow}
ramp-coreload-3-foreground = ${colors.yellow}
ramp-coreload-4-foreground = ${colors.urgent}
ramp-coreload-5-foreground = ${colors.urgent}



;;;;;;;;;
;; MEM ;;
;;;;;;;;;
[module/memory]
type          = internal/memory
interval      = 3
format        = <label> 
label-padding = 1
label         = %{A1:urxvt -e htop & disown:} %percentage_used%%%{A}

; Only applies if <bar-used> is used
bar-used-indicator = •
bar-used-width = 10
bar-used-foreground-0 = #92A3F7
bar-used-foreground-1 = #6BB3E7
bar-used-foreground-2 = #6BB3E7
bar-used-foreground-3 = #6BE7D8
bar-used-fill = •
bar-used-empty = ·
bar-used-empty-foreground = ${colors.foreground}



;;;;;;;;;
;; PKG ;;
;;;;;;;;;
[module/pkg]
type    = custom/script
exec    = ~/.config/polybar/modules/check-updates.sh
exec-if = "ping -q -w 2 -c 1 176.34.135.167 > /dev/null"
label   = %{A1:urxvt -e pacli & disown:} %{A3:urxvt -e pacli & disown:}%output%%{A} %{A}
tail    = true



;;;;;;;;;;;;;
;; SPOTIFY ;;
;;;;;;;;;;;;;

[module/spotify]
type    = custom/script
exec    = ~/.bin/spotify-info.sh
label   = %{A1:spotify & disown:} %{A3:spotify & disown:}%output%%{A} %{A}
tail    = true


;;;;;;;;;;;;;;;;;;;;
;; CAFFEINE Toggle ;;
;;;;;;;;;;;;;;;;;;;;
[module/toggle_xautlock]
type = custom/script
tail        = true
label       = %output%
click-left  = toggle.sh -f --toggle &
exec        = toggle.sh -f 
format-prefix = " "
format      = <label>


;;;;;;;;;;;
;; Clock ;;
;;;;;;;;;;;
[module/clock]
type          = internal/date
format        = <label>
format-foreground = ${colors.accent}
lebel-padding = 1
interval      = 5
time          = %R
label = %{A1:gsimplecal & disown:} %{A3:gsimplecal & disown:} %time%%{A} %{A}


;;;;;;;;;;;;;;;;;
;; TEMPERATURE ;;
;;;;;;;;;;;;;;;;;
[module/temperature]
type = internal/temperature
interval         = 10
thermal-zone     = 0
warn-temperature = 75
format           = <ramp><label>
format-padding   = 1
hwmon-path = /sys/devices/pci0000:00/0000:00:18.3/hwmon/hwmon0/temp1_input
label = %{A1:urxvt -e 'watch sensors' & disown:} %temperature%%{A}
ramp-0 = ""
ramp-1 = ""
ramp-2 = ""
ramp-3 = ""
ramp-0-foreground  = ${colors.blue}
ramp-1-foreground  = ${colors.blue}
ramp-2-foreground  = ${colors.pink}
ramp-3-foreground  = ${colors.urgent}
format-warn        = <label-warn>
label-warn         = " %temperature%"
label-warn-padding = 1
label-warn-foreground = ${colors.urgent}


;;;;;;;;;;;;
;; Volume ;;
;;;;;;;;;;;;
[module/volume]
type = internal/volume
master-mixer = Master
format-volume-padding   = 1
label-volume-foreground = ${colors.foreground}
label-volume  = %{A3:pavucontrol & disown:}  %percentage%% %{A}
format-volume = <label-volume>
label-muted   = "  muted "

;;;;;;;;;;;;;
;; BATTERY ;;
;;;;;;;;;;;;;
[module/battery]
type = internal/battery
; Use $ ls -1 /sys/class/power_supply/
battery = BAT1
adapter = AC
full-at = 98
poll-interval = 5
time-format = %H:%M

format-charging    = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>
format-full        = <ramp-capacity> <label-full>

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 
ramp-capacity-0-foreground = ${colors.urgent}
ramp-capacity-1-foreground = #ffa900
ramp-capacity-foreground   = ${colors.blue}

bar-capacity-width = 10
animation-charging-0 = " "
animation-charging-1 = " "
animation-charging-2 = " "
animation-charging-3 = " "
animation-charging-4 = " "
animation-charging-framerate = 750


;;;;;;;;;;
;; MENU ;;
;;;;;;;;;;
[module/menu]
type           = custom/menu
format-spacing = 1
label-open     = "    "
label-close    = "    "
label-close-foreground  = ${colors.urgent}
label-separator = " | "
# Top level
menu-0-0       = "  "
menu-0-0-exec  = menu-open-1
menu-0-1       = "  "
menu-0-1-exec  = menu-open-2
menu-0-2       = "    |"
menu-0-2-exec  = menu-open-3
# 1
menu-1-0       = "  "
menu-1-0-exec  = menu-open-0
menu-1-0-foreground = ${colors.urgent}
menu-1-1       = "  "
menu-1-1-exec  = exo-open --launch WebBrowser
menu-1-2       = "  "
menu-1-2-exec  = exo-open --launch TerminalEmulator
menu-1-3       = "    |"
menu-1-3-exec  = exo-open --launch FileManager
# 2
menu-2-0       = "  "
menu-2-0-exec  = menu-open-0
menu-2-0-foreground = ${colors.urgent}
menu-2-1       = "  "
menu-2-1-exec  = urxvt -e pacli &
menu-2-2       = "  "
menu-2-2-exec  = xfce4-settings-manager &
menu-2-3       = "    |"
menu-2-3-exec  = pavucontrol &
# 3
menu-3-0       = "  "
menu-3-0-exec  = menu-open-0
menu-3-0-foreground = ${colors.urgent}
menu-3-1       = "   "
menu-3-1-exec  = i3lock-fancy -p -f Ubuntu &
menu-3-2       = "   "
menu-3-2-exec  = systemctl reboot
menu-3-3       = "      |"
menu-3-3-exec  = systemctl poweroff


;;;;;;;;;;;;;;;;;;;;
;; Compton Toggle ;;
;;;;;;;;;;;;;;;;;;;;
[module/compton_toggle]
type = custom/script
tail        = true
label       = %output%
click-left  = toggle-compton --toggle &
exec        = toggle-compton
format      = <label>


;;;;;;;;;;;;;;;
;; KEYBOARD ;;
;;;;;;;;;;;;;;;
[module/keyboard]
type           = internal/xkeyboard
blacklist-0    = num lock
blacklist-1    = scroll lock
format         = <label-layout>
format-padding = 1
label-layout   = %{A1:mintlocale & disown:} %{A3:mintlocale & disown:} %layout%%{A} %{A}


;;;;;;;;;;;;;;
;; ETHERNET ;;
;;;;;;;;;;;;;;
[module/wired-network]
type                = internal/network
interface           = enp2s0
format-connected    = <label-connected>
format-disconnected = <label-disconnected>
label-connected     =  %local_ip%
format-connected-foreground = ${colors.purple}


;;;;;;;;;;;;;;
;; REDSHIFT ;;
;;;;;;;;;;;;;;
[module/redshift]
type        = custom/script
tail        = true
exec        = toggle-redshift
label       = %output%
click-left  = toggle-redshift --toggle &


;;;;;;;;;;;;;;;;
;; FILESYSTEM ;;
;;;;;;;;;;;;;;;;
[module/filesystem]
type           = internal/fs
format-mounted = <label-mounted>
label-mounted =  Root %used%/%total%
mount-0        = /
interval       = 1200
fixed-values   = false
spacing        = 2
label-mounted-foreground = ${colors.foreground}

;;;;;;;;;;
;; WIFI ;;
;;;;;;;;;;
[module/wireless-network]
type = internal/network
interface = INTERFACE

format-connected  = %{A:networkmanager_dmenu&:}<ramp-signal> <label-connected>%{A}

format-disconnected =%{A:networkmanager_dmenu&:} <label-disconnected>%{A}

format-packetloss = <animation-packetloss>
label-connected   = " %essid% "
label-disconnected = not connected
label-disconnected-foreground = ${colors.orange}
label-connected-foreground = ${colors.accent}

ramp-signal-0 = 
ramp-signal-1 = 
ramp-signal-2 = 
ramp-signal-3 = 
ramp-signal-4 = 
ramp-signal-5 = 
ramp-signal-foreground = ${colors.foreground}


;;;;;;;;;;;;;;;;
;; VOLUME BAR ;;
;;;;;;;;;;;;;;;;
[module/volume-bar]
type = internal/volume
bar-volume-width = 7
;format-volume    = <label-volume><bar-volume>
format-volume    = %{A3:pavucontrol & disown:}<label-volume><bar-volume>%{A} 
label-volume     = "  "
label-muted      = "   mute"
label-volume-foreground = #B6C2E7
format-muted-foreground = #E76BB4
bar-volume-foreground-0 = #92A3F7
bar-volume-foreground-1 = #92A3F7
bar-volume-foreground-2 = #6BB3E7
bar-volume-foreground-3 = #6BB3E7
bar-volume-foreground-4 = #6BB3E7
bar-volume-foreground-5 = #6BE7D8
bar-volume-foreground-6 = #6BE7D8
bar-volume-gradient     = true
bar-volume-indicator    = •
bar-volume-fill         = •
bar-volume-empty        = ·
bar-volume-empty-foreground = #666666


;;;;;;;;;;;;;;;;
;; XWindows   ;;
;;;;;;;;;;;;;;;;
[module/xwindow]
type = internal/xwindow
format = <label>
label = %title%
label-maxlen = 50
;label-foreground = ${color.white}


;;;;;;;;;
;; MPD ;;
;;;;;;;;;
[module/mpd]
type = internal/mpd
format-online = %{A1:urxvt -e ncmpcpp & disown:} %{A3:urxvt -e ncmpcpp & disown:}<label-song> <bar-progress>%{A} %{A}
format-stopped = %{A1:urxvt -e ncmpcpp & disown:} %{A3:urxvt -e ncmpcpp & disown:} Music Stopped%{A} %{A}
format-offline = <label-offline>
label-offline =  mpd is offline
icon-prev = 
icon-stop = 
icon-play = 
icon-pause = 
icon-next = 
icon-random = 
label-song =   %title% - %artist%
label-time = %elapsed% / %total%
label-song-foreground = ${colors.foreground}
label-song-maxlen = 60
label-song-ellipsis = true
bar-progress-width = 10
bar-progress-indicator = 
bar-progress-fill = -
bar-progress-empty = -
bar-progress-foreground-0 = ${colors.accent}
bar-progress-indicator-foreground = ${colors.accent}
padding-left = 5
